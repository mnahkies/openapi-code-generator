/** AUTOGENERATED - DO NOT EDIT **/
/* tslint:disable */
/* eslint-disable */

import {
  t_CreateUpdateTodoList,
  t_Error,
  t_Statuses,
  t_TodoList,
  t_UnknownObject,
} from "./models"
import {
  AbstractFetchClient,
  AbstractFetchClientConfig,
  Res,
  Server,
  StatusCode,
  StatusCode4xx,
  StatusCode5xx,
} from "@nahkies/typescript-fetch-runtime/main"

export class TodoListsExampleApiServersOperations {
  static listAttachments(url?: "{schema}://{tenant}.attachments.example.com"): {
    build: (
      schema?: "http" | "https",
      tenant?: string,
    ) => Server<"listAttachments_TodoListsExampleApi">
  }
  static listAttachments(url?: "https://attachments.example.com"): {
    build: () => Server<"listAttachments_TodoListsExampleApi">
  }
  static listAttachments(
    url: string = "{schema}://{tenant}.attachments.example.com",
  ): unknown {
    switch (url) {
      case "{schema}://{tenant}.attachments.example.com":
        return {
          build(
            schema: "http" | "https" = "https",
            tenant = "your-slug",
          ): Server<"listAttachments_TodoListsExampleApi"> {
            return "{schema}://{tenant}.attachments.example.com"
              .replace("{schema}", schema)
              .replace(
                "{tenant}",
                tenant,
              ) as Server<"listAttachments_TodoListsExampleApi">
          },
        }

      case "https://attachments.example.com":
        return {
          build(): Server<"listAttachments_TodoListsExampleApi"> {
            return "https://attachments.example.com" as Server<"listAttachments_TodoListsExampleApi">
          },
        }

      default:
        throw new Error(`no matching server for url '${url}'`)
    }
  }

  static uploadAttachment(
    url?: "{schema}://{tenant}.attachments.example.com",
  ): {
    build: (
      schema?: "http" | "https",
      tenant?: string,
    ) => Server<"uploadAttachment_TodoListsExampleApi">
  }
  static uploadAttachment(url?: "https://attachments.example.com"): {
    build: () => Server<"uploadAttachment_TodoListsExampleApi">
  }
  static uploadAttachment(
    url: string = "{schema}://{tenant}.attachments.example.com",
  ): unknown {
    switch (url) {
      case "{schema}://{tenant}.attachments.example.com":
        return {
          build(
            schema: "http" | "https" = "https",
            tenant = "your-slug",
          ): Server<"uploadAttachment_TodoListsExampleApi"> {
            return "{schema}://{tenant}.attachments.example.com"
              .replace("{schema}", schema)
              .replace(
                "{tenant}",
                tenant,
              ) as Server<"uploadAttachment_TodoListsExampleApi">
          },
        }

      case "https://attachments.example.com":
        return {
          build(): Server<"uploadAttachment_TodoListsExampleApi"> {
            return "https://attachments.example.com" as Server<"uploadAttachment_TodoListsExampleApi">
          },
        }

      default:
        throw new Error(`no matching server for url '${url}'`)
    }
  }
}

export class TodoListsExampleApiServers {
  static default(): Server<"TodoListsExampleApi"> {
    return TodoListsExampleApiServers.server().build()
  }

  static server(url?: "{schema}://{tenant}.todo-lists.example.com"): {
    build: (
      schema?: "http" | "https",
      tenant?: string,
    ) => Server<"TodoListsExampleApi">
  }
  static server(url?: "https://todo-lists.example.com"): {
    build: () => Server<"TodoListsExampleApi">
  }
  static server(
    url: string = "{schema}://{tenant}.todo-lists.example.com",
  ): unknown {
    switch (url) {
      case "{schema}://{tenant}.todo-lists.example.com":
        return {
          build(
            schema: "http" | "https" = "https",
            tenant = "your-slug",
          ): Server<"TodoListsExampleApi"> {
            return "{schema}://{tenant}.todo-lists.example.com"
              .replace("{schema}", schema)
              .replace("{tenant}", tenant) as Server<"TodoListsExampleApi">
          },
        }

      case "https://todo-lists.example.com":
        return {
          build(): Server<"TodoListsExampleApi"> {
            return "https://todo-lists.example.com" as Server<"TodoListsExampleApi">
          },
        }

      default:
        throw new Error(`no matching server for url '${url}'`)
    }
  }

  static readonly operations = TodoListsExampleApiServersOperations
}

export interface TodoListsExampleApiConfig extends AbstractFetchClientConfig {
  basePath: Server<"TodoListsExampleApi"> | string
}

export class TodoListsExampleApi extends AbstractFetchClient {
  constructor(config: TodoListsExampleApiConfig) {
    super(config)
  }

  async getTodoLists(
    p: {
      created?: string
      statuses?: t_Statuses
      tags?: string[]
    } = {},
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<Res<200, t_TodoList[]>> {
    const url = this.basePath + `/list`
    const headers = this._headers({Accept: "application/json"}, opts.headers)
    const query = this._query({
      created: p["created"],
      statuses: p["statuses"],
      tags: p["tags"],
    })

    return this._fetch(url + query, {method: "GET", ...opts, headers}, timeout)
  }

  async getTodoListById(
    p: {
      listId: string
    },
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<
    Res<200, t_TodoList> | Res<StatusCode4xx, t_Error> | Res<StatusCode, void>
  > {
    const url = this.basePath + `/list/${p["listId"]}`
    const headers = this._headers({Accept: "application/json"}, opts.headers)

    return this._fetch(url, {method: "GET", ...opts, headers}, timeout)
  }

  async updateTodoListById(
    p: {
      listId: string
      requestBody: t_CreateUpdateTodoList
    },
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<
    Res<200, t_TodoList> | Res<StatusCode4xx, t_Error> | Res<StatusCode, void>
  > {
    const url = this.basePath + `/list/${p["listId"]}`
    const headers = this._headers(
      {Accept: "application/json", "Content-Type": "application/json"},
      opts.headers,
    )
    const body = JSON.stringify(p.requestBody)

    return this._fetch(url, {method: "PUT", body, ...opts, headers}, timeout)
  }

  async deleteTodoListById(
    p: {
      listId: string
    },
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<
    Res<204, void> | Res<StatusCode4xx, t_Error> | Res<StatusCode, void>
  > {
    const url = this.basePath + `/list/${p["listId"]}`
    const headers = this._headers({Accept: "application/json"}, opts.headers)

    return this._fetch(url, {method: "DELETE", ...opts, headers}, timeout)
  }

  async getTodoListItems(
    p: {
      listId: string
    },
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<
    | Res<
        200,
        {
          completedAt?: string
          content: string
          createdAt: string
          id: string
        }
      >
    | Res<
        StatusCode5xx,
        {
          code: string
          message: string
        }
      >
  > {
    const url = this.basePath + `/list/${p["listId"]}/items`
    const headers = this._headers({Accept: "application/json"}, opts.headers)

    return this._fetch(url, {method: "GET", ...opts, headers}, timeout)
  }

  async createTodoListItem(
    p: {
      listId: string
      requestBody: {
        completedAt?: string
        content: string
        id: string
      }
    },
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<Res<204, void>> {
    const url = this.basePath + `/list/${p["listId"]}/items`
    const headers = this._headers(
      {Accept: "application/json", "Content-Type": "application/json"},
      opts.headers,
    )
    const body = JSON.stringify(p.requestBody)

    return this._fetch(url, {method: "POST", body, ...opts, headers}, timeout)
  }

  async listAttachments(
    basePath:
      | Server<"listAttachments_TodoListsExampleApi">
      | string = TodoListsExampleApiServers.operations
      .listAttachments()
      .build(),
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<Res<200, t_UnknownObject[]>> {
    const url = basePath + `/attachments`
    const headers = this._headers({Accept: "application/json"}, opts.headers)

    return this._fetch(url, {method: "GET", ...opts, headers}, timeout)
  }

  async uploadAttachment(
    p: {
      requestBody: never
    },
    basePath:
      | Server<"uploadAttachment_TodoListsExampleApi">
      | string = TodoListsExampleApiServers.operations
      .uploadAttachment()
      .build(),
    timeout?: number,
    opts: RequestInit = {},
  ): Promise<Res<202, void>> {
    const url = basePath + `/attachments`
    const headers = this._headers({Accept: "application/json"}, opts.headers)

    return this._fetch(
      url,
      {
        method: "POST",
        // todo: request bodies with content-type 'multipart/form-data' not yet supported,
        ...opts,
        headers,
      },
      timeout,
    )
  }
}

export {TodoListsExampleApi as ApiClient}
export type {TodoListsExampleApiConfig as ApiClientConfig}
