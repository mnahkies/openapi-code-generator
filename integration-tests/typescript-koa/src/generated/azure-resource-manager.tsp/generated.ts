/** AUTOGENERATED - DO NOT EDIT **/
/* tslint:disable */
/* eslint-disable */

import {
  t_Azure_ResourceManager_CommonTypes_ErrorResponse,
  t_Employee,
  t_EmployeeListResult,
  t_EmployeesCheckExistenceParamSchema,
  t_EmployeesCheckExistenceQuerySchema,
  t_EmployeesCreateOrUpdateBodySchema,
  t_EmployeesCreateOrUpdateParamSchema,
  t_EmployeesCreateOrUpdateQuerySchema,
  t_EmployeesDeleteParamSchema,
  t_EmployeesDeleteQuerySchema,
  t_EmployeesGetParamSchema,
  t_EmployeesGetQuerySchema,
  t_EmployeesListByResourceGroupParamSchema,
  t_EmployeesListByResourceGroupQuerySchema,
  t_EmployeesListBySubscriptionParamSchema,
  t_EmployeesListBySubscriptionQuerySchema,
  t_EmployeesMoveBodySchema,
  t_EmployeesMoveParamSchema,
  t_EmployeesMoveQuerySchema,
  t_EmployeesUpdateBodySchema,
  t_EmployeesUpdateParamSchema,
  t_EmployeesUpdateQuerySchema,
  t_MoveResponse,
  t_OperationListResult,
  t_OperationsListQuerySchema,
} from "./models"
import {
  s_Azure_Core_uuid,
  s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  s_Employee,
  s_EmployeeListResult,
  s_EmployeeUpdate,
  s_MoveRequest,
  s_MoveResponse,
  s_OperationListResult,
} from "./schemas"
import KoaRouter, { RouterContext } from "@koa/router"
import {
  KoaRuntimeError,
  RequestInputType,
} from "@nahkies/typescript-koa-runtime/errors"
import {
  KoaRuntimeResponder,
  KoaRuntimeResponse,
  Params,
  Response,
  ServerConfig,
  StatusCode,
  b,
  startServer,
} from "@nahkies/typescript-koa-runtime/server"
import { parseRequestInput } from "@nahkies/typescript-koa-runtime/zod"
import { z } from "zod"

const operationsList = b((r) => ({
  with200: r.with200<t_OperationListResult>(s_OperationListResult),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type OperationsListResponder = (typeof operationsList)["responder"] &
  KoaRuntimeResponder

export type OperationsList = (
  params: Params<void, t_OperationsListQuerySchema, void, void>,
  respond: OperationsListResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<200, t_OperationListResult>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesGet = b((r) => ({
  with200: r.with200<t_Employee>(s_Employee),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesGetResponder = (typeof employeesGet)["responder"] &
  KoaRuntimeResponder

export type EmployeesGet = (
  params: Params<
    t_EmployeesGetParamSchema,
    t_EmployeesGetQuerySchema,
    void,
    void
  >,
  respond: EmployeesGetResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<200, t_Employee>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesCreateOrUpdate = b((r) => ({
  with200: r.with200<t_Employee>(s_Employee),
  with201: r.with201<t_Employee>(s_Employee),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesCreateOrUpdateResponder =
  (typeof employeesCreateOrUpdate)["responder"] & KoaRuntimeResponder

export type EmployeesCreateOrUpdate = (
  params: Params<
    t_EmployeesCreateOrUpdateParamSchema,
    t_EmployeesCreateOrUpdateQuerySchema,
    t_EmployeesCreateOrUpdateBodySchema,
    void
  >,
  respond: EmployeesCreateOrUpdateResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<200, t_Employee>
  | Response<201, t_Employee>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesUpdate = b((r) => ({
  with200: r.with200<t_Employee>(s_Employee),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesUpdateResponder = (typeof employeesUpdate)["responder"] &
  KoaRuntimeResponder

export type EmployeesUpdate = (
  params: Params<
    t_EmployeesUpdateParamSchema,
    t_EmployeesUpdateQuerySchema,
    t_EmployeesUpdateBodySchema,
    void
  >,
  respond: EmployeesUpdateResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<200, t_Employee>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesDelete = b((r) => ({
  with202: r.with202<void>(z.undefined()),
  with204: r.with204<void>(z.undefined()),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesDeleteResponder = (typeof employeesDelete)["responder"] &
  KoaRuntimeResponder

export type EmployeesDelete = (
  params: Params<
    t_EmployeesDeleteParamSchema,
    t_EmployeesDeleteQuerySchema,
    void,
    void
  >,
  respond: EmployeesDeleteResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<202, void>
  | Response<204, void>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesCheckExistence = b((r) => ({
  with204: r.with204<void>(z.undefined()),
  with404: r.with404<void>(z.undefined()),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesCheckExistenceResponder =
  (typeof employeesCheckExistence)["responder"] & KoaRuntimeResponder

export type EmployeesCheckExistence = (
  params: Params<
    t_EmployeesCheckExistenceParamSchema,
    t_EmployeesCheckExistenceQuerySchema,
    void,
    void
  >,
  respond: EmployeesCheckExistenceResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<204, void>
  | Response<404, void>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesListByResourceGroup = b((r) => ({
  with200: r.with200<t_EmployeeListResult>(s_EmployeeListResult),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesListByResourceGroupResponder =
  (typeof employeesListByResourceGroup)["responder"] & KoaRuntimeResponder

export type EmployeesListByResourceGroup = (
  params: Params<
    t_EmployeesListByResourceGroupParamSchema,
    t_EmployeesListByResourceGroupQuerySchema,
    void,
    void
  >,
  respond: EmployeesListByResourceGroupResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<200, t_EmployeeListResult>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesListBySubscription = b((r) => ({
  with200: r.with200<t_EmployeeListResult>(s_EmployeeListResult),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesListBySubscriptionResponder =
  (typeof employeesListBySubscription)["responder"] & KoaRuntimeResponder

export type EmployeesListBySubscription = (
  params: Params<
    t_EmployeesListBySubscriptionParamSchema,
    t_EmployeesListBySubscriptionQuerySchema,
    void,
    void
  >,
  respond: EmployeesListBySubscriptionResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<200, t_EmployeeListResult>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

const employeesMove = b((r) => ({
  with200: r.with200<t_MoveResponse>(s_MoveResponse),
  withDefault: r.withDefault<t_Azure_ResourceManager_CommonTypes_ErrorResponse>(
    s_Azure_ResourceManager_CommonTypes_ErrorResponse,
  ),
  withStatus: r.withStatus,
}))

type EmployeesMoveResponder = (typeof employeesMove)["responder"] &
  KoaRuntimeResponder

export type EmployeesMove = (
  params: Params<
    t_EmployeesMoveParamSchema,
    t_EmployeesMoveQuerySchema,
    t_EmployeesMoveBodySchema,
    void
  >,
  respond: EmployeesMoveResponder,
  ctx: RouterContext,
) => Promise<
  | KoaRuntimeResponse<unknown>
  | Response<200, t_MoveResponse>
  | Response<StatusCode, t_Azure_ResourceManager_CommonTypes_ErrorResponse>
>

export type Implementation = {
  operationsList: OperationsList
  employeesGet: EmployeesGet
  employeesCreateOrUpdate: EmployeesCreateOrUpdate
  employeesUpdate: EmployeesUpdate
  employeesDelete: EmployeesDelete
  employeesCheckExistence: EmployeesCheckExistence
  employeesListByResourceGroup: EmployeesListByResourceGroup
  employeesListBySubscription: EmployeesListBySubscription
  employeesMove: EmployeesMove
}

export function createRouter(implementation: Implementation): KoaRouter {
  const router = new KoaRouter()

  const operationsListQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  router.get(
    "operationsList",
    "/providers/Microsoft.ContosoProviderHub/operations",
    async (ctx, next) => {
      const input = {
        params: undefined,
        query: parseRequestInput(
          operationsListQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: undefined,
        headers: undefined,
      }

      const response = await implementation
        .operationsList(input, operationsList.responder, ctx)
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = operationsList.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesGetParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
    resourceGroupName: z
      .string()
      .min(1)
      .max(90)
      .regex(new RegExp("^[-\\w\\._\\(\\)]+$")),
    employeeName: z.string().regex(new RegExp("^[a-zA-Z0-9-]{3,24}$")),
  })

  const employeesGetQuerySchema = z.object({ "api-version": z.string().min(1) })

  router.get(
    "employeesGet",
    "/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContosoProviderHub/employees/:employeeName",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesGetParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesGetQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: undefined,
        headers: undefined,
      }

      const response = await implementation
        .employeesGet(input, employeesGet.responder, ctx)
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesGet.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesCreateOrUpdateParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
    resourceGroupName: z
      .string()
      .min(1)
      .max(90)
      .regex(new RegExp("^[-\\w\\._\\(\\)]+$")),
    employeeName: z.string().regex(new RegExp("^[a-zA-Z0-9-]{3,24}$")),
  })

  const employeesCreateOrUpdateQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  const employeesCreateOrUpdateBodySchema = s_Employee

  router.put(
    "employeesCreateOrUpdate",
    "/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContosoProviderHub/employees/:employeeName",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesCreateOrUpdateParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesCreateOrUpdateQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: parseRequestInput(
          employeesCreateOrUpdateBodySchema,
          Reflect.get(ctx.request, "body"),
          RequestInputType.RequestBody,
        ),
        headers: undefined,
      }

      const response = await implementation
        .employeesCreateOrUpdate(input, employeesCreateOrUpdate.responder, ctx)
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesCreateOrUpdate.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesUpdateParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
    resourceGroupName: z
      .string()
      .min(1)
      .max(90)
      .regex(new RegExp("^[-\\w\\._\\(\\)]+$")),
    employeeName: z.string().regex(new RegExp("^[a-zA-Z0-9-]{3,24}$")),
  })

  const employeesUpdateQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  const employeesUpdateBodySchema = s_EmployeeUpdate

  router.patch(
    "employeesUpdate",
    "/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContosoProviderHub/employees/:employeeName",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesUpdateParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesUpdateQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: parseRequestInput(
          employeesUpdateBodySchema,
          Reflect.get(ctx.request, "body"),
          RequestInputType.RequestBody,
        ),
        headers: undefined,
      }

      const response = await implementation
        .employeesUpdate(input, employeesUpdate.responder, ctx)
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesUpdate.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesDeleteParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
    resourceGroupName: z
      .string()
      .min(1)
      .max(90)
      .regex(new RegExp("^[-\\w\\._\\(\\)]+$")),
    employeeName: z.string().regex(new RegExp("^[a-zA-Z0-9-]{3,24}$")),
  })

  const employeesDeleteQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  router.delete(
    "employeesDelete",
    "/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContosoProviderHub/employees/:employeeName",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesDeleteParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesDeleteQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: undefined,
        headers: undefined,
      }

      const response = await implementation
        .employeesDelete(input, employeesDelete.responder, ctx)
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesDelete.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesCheckExistenceParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
    resourceGroupName: z
      .string()
      .min(1)
      .max(90)
      .regex(new RegExp("^[-\\w\\._\\(\\)]+$")),
    employeeName: z.string().regex(new RegExp("^[a-zA-Z0-9-]{3,24}$")),
  })

  const employeesCheckExistenceQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  router.head(
    "employeesCheckExistence",
    "/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContosoProviderHub/employees/:employeeName",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesCheckExistenceParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesCheckExistenceQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: undefined,
        headers: undefined,
      }

      const response = await implementation
        .employeesCheckExistence(input, employeesCheckExistence.responder, ctx)
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesCheckExistence.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesListByResourceGroupParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
    resourceGroupName: z
      .string()
      .min(1)
      .max(90)
      .regex(new RegExp("^[-\\w\\._\\(\\)]+$")),
  })

  const employeesListByResourceGroupQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  router.get(
    "employeesListByResourceGroup",
    "/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContosoProviderHub/employees",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesListByResourceGroupParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesListByResourceGroupQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: undefined,
        headers: undefined,
      }

      const response = await implementation
        .employeesListByResourceGroup(
          input,
          employeesListByResourceGroup.responder,
          ctx,
        )
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesListByResourceGroup.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesListBySubscriptionParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
  })

  const employeesListBySubscriptionQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  router.get(
    "employeesListBySubscription",
    "/subscriptions/:subscriptionId/providers/Microsoft.ContosoProviderHub/employees",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesListBySubscriptionParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesListBySubscriptionQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: undefined,
        headers: undefined,
      }

      const response = await implementation
        .employeesListBySubscription(
          input,
          employeesListBySubscription.responder,
          ctx,
        )
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesListBySubscription.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  const employeesMoveParamSchema = z.object({
    subscriptionId: s_Azure_Core_uuid,
    resourceGroupName: z
      .string()
      .min(1)
      .max(90)
      .regex(new RegExp("^[-\\w\\._\\(\\)]+$")),
    employeeName: z.string().regex(new RegExp("^[a-zA-Z0-9-]{3,24}$")),
  })

  const employeesMoveQuerySchema = z.object({
    "api-version": z.string().min(1),
  })

  const employeesMoveBodySchema = s_MoveRequest

  router.post(
    "employeesMove",
    "/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContosoProviderHub/employees/:employeeName/move",
    async (ctx, next) => {
      const input = {
        params: parseRequestInput(
          employeesMoveParamSchema,
          ctx.params,
          RequestInputType.RouteParam,
        ),
        query: parseRequestInput(
          employeesMoveQuerySchema,
          ctx.query,
          RequestInputType.QueryString,
        ),
        body: parseRequestInput(
          employeesMoveBodySchema,
          Reflect.get(ctx.request, "body"),
          RequestInputType.RequestBody,
        ),
        headers: undefined,
      }

      const response = await implementation
        .employeesMove(input, employeesMove.responder, ctx)
        .catch((err) => {
          throw KoaRuntimeError.HandlerError(err)
        })

      const { status, body } =
        response instanceof KoaRuntimeResponse ? response.unpack() : response

      ctx.body = employeesMove.validator(status, body)
      ctx.status = status
      return next()
    },
  )

  return router
}

export async function bootstrap(config: ServerConfig) {
  // ContosoProviderHubClient
  return startServer(config)
}
