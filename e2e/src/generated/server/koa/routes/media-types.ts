/** AUTOGENERATED - DO NOT EDIT **/
/* tslint:disable */
/* eslint-disable */

import KoaRouter, {type RouterContext} from "@koa/router"
import {RequestInputType} from "@nahkies/typescript-koa-runtime/errors"
import {
  handleImplementationError,
  handleResponse,
  type KoaRuntimeResponder,
  KoaRuntimeResponse,
  type Params,
  parseOctetStream,
  type Res,
  type SkipResponse,
  type StatusCode,
} from "@nahkies/typescript-koa-runtime/server"
import {
  parseRequestInput,
  responseValidationFactory,
} from "@nahkies/typescript-koa-runtime/zod-v4"
import type {Next} from "koa"
import {z} from "zod/v4"
import type {t_ProductOrder} from "../models.ts"
import {s_ProductOrder} from "../schemas.ts"

export type PostMediaTypesTextResponder = {
  with200(): KoaRuntimeResponse<string>
} & KoaRuntimeResponder

export type PostMediaTypesText = (
  params: Params<void, void, string, void>,
  respond: PostMediaTypesTextResponder,
  ctx: RouterContext,
  next: Next,
) => Promise<
  KoaRuntimeResponse<unknown> | Res<200, string> | typeof SkipResponse
>

export type PostMediaTypesXWwwFormUrlencodedResponder = {
  with200(): KoaRuntimeResponse<t_ProductOrder>
} & KoaRuntimeResponder

export type PostMediaTypesXWwwFormUrlencoded = (
  params: Params<void, void, t_ProductOrder, void>,
  respond: PostMediaTypesXWwwFormUrlencodedResponder,
  ctx: RouterContext,
  next: Next,
) => Promise<
  KoaRuntimeResponse<unknown> | Res<200, t_ProductOrder> | typeof SkipResponse
>

export type PostMediaTypesOctetStreamResponder = {
  with200(): KoaRuntimeResponse<Blob>
} & KoaRuntimeResponder

export type PostMediaTypesOctetStream = (
  params: Params<void, void, Blob, void>,
  respond: PostMediaTypesOctetStreamResponder,
  ctx: RouterContext,
  next: Next,
) => Promise<KoaRuntimeResponse<unknown> | Res<200, Blob> | typeof SkipResponse>

export type MediaTypesImplementation = {
  postMediaTypesText: PostMediaTypesText
  postMediaTypesXWwwFormUrlencoded: PostMediaTypesXWwwFormUrlencoded
  postMediaTypesOctetStream: PostMediaTypesOctetStream
}

export function createMediaTypesRouter(
  implementation: MediaTypesImplementation,
): KoaRouter {
  const router = new KoaRouter()

  const postMediaTypesTextResponseValidator = responseValidationFactory(
    [["200", z.string()]],
    undefined,
  )

  router.post("postMediaTypesText", "/media-types/text", async (ctx, next) => {
    const input = {
      params: undefined,
      query: undefined,
      body: parseRequestInput(
        z.string(),
        Reflect.get(ctx.request, "body"),
        RequestInputType.RequestBody,
      ),
      headers: undefined,
    }

    const responder = {
      with200() {
        return new KoaRuntimeResponse<string>(200)
      },
      withStatus(status: StatusCode) {
        return new KoaRuntimeResponse(status)
      },
    }

    await implementation
      .postMediaTypesText(input, responder, ctx, next)
      .catch(handleImplementationError)
      .then(handleResponse(ctx, next, postMediaTypesTextResponseValidator))
  })

  const postMediaTypesXWwwFormUrlencodedResponseValidator =
    responseValidationFactory([["200", s_ProductOrder]], undefined)

  router.post(
    "postMediaTypesXWwwFormUrlencoded",
    "/media-types/x-www-form-urlencoded",
    async (ctx, next) => {
      const input = {
        params: undefined,
        query: undefined,
        body: parseRequestInput(
          s_ProductOrder,
          Reflect.get(ctx.request, "body"),
          RequestInputType.RequestBody,
        ),
        headers: undefined,
      }

      const responder = {
        with200() {
          return new KoaRuntimeResponse<t_ProductOrder>(200)
        },
        withStatus(status: StatusCode) {
          return new KoaRuntimeResponse(status)
        },
      }

      await implementation
        .postMediaTypesXWwwFormUrlencoded(input, responder, ctx, next)
        .catch(handleImplementationError)
        .then(
          handleResponse(
            ctx,
            next,
            postMediaTypesXWwwFormUrlencodedResponseValidator,
          ),
        )
    },
  )

  const postMediaTypesOctetStreamResponseValidator = responseValidationFactory(
    [["200", z.any()]],
    undefined,
  )

  router.post(
    "postMediaTypesOctetStream",
    "/media-types/octet-stream",
    async (ctx, next) => {
      const input = {
        params: undefined,
        query: undefined,
        body: parseRequestInput(
          z.any(),
          await parseOctetStream(ctx),
          RequestInputType.RequestBody,
        ),
        headers: undefined,
      }

      const responder = {
        with200() {
          return new KoaRuntimeResponse<Blob>(200)
        },
        withStatus(status: StatusCode) {
          return new KoaRuntimeResponse(status)
        },
      }

      await implementation
        .postMediaTypesOctetStream(input, responder, ctx, next)
        .catch(handleImplementationError)
        .then(
          handleResponse(ctx, next, postMediaTypesOctetStreamResponseValidator),
        )
    },
  )

  return router
}

export {createMediaTypesRouter as createRouter}
export type {MediaTypesImplementation as Implementation}
