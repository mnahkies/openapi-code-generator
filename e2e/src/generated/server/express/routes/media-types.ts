/** AUTOGENERATED - DO NOT EDIT **/
/* tslint:disable */
/* eslint-disable */

import {RequestInputType} from "@nahkies/typescript-express-runtime/errors"
import {
  type ExpressRuntimeResponder,
  ExpressRuntimeResponse,
  handleImplementationError,
  handleResponse,
  type Params,
  parseOctetStream,
  type SkipResponse,
  type StatusCode,
} from "@nahkies/typescript-express-runtime/server"
import {
  parseRequestInput,
  responseValidationFactory,
} from "@nahkies/typescript-express-runtime/zod-v4"
import {type NextFunction, type Request, type Response, Router} from "express"
import {z} from "zod/v4"
import type {t_ProductOrder} from "../models.ts"
import {s_ProductOrder} from "../schemas.ts"

export type PostMediaTypesTextResponder = {
  with200(): ExpressRuntimeResponse<string>
} & ExpressRuntimeResponder

export type PostMediaTypesText = (
  params: Params<void, void, string, void>,
  respond: PostMediaTypesTextResponder,
  req: Request,
  res: Response,
  next: NextFunction,
) => Promise<ExpressRuntimeResponse<unknown> | typeof SkipResponse>

export type PostMediaTypesXWwwFormUrlencodedResponder = {
  with200(): ExpressRuntimeResponse<t_ProductOrder>
} & ExpressRuntimeResponder

export type PostMediaTypesXWwwFormUrlencoded = (
  params: Params<void, void, t_ProductOrder, void>,
  respond: PostMediaTypesXWwwFormUrlencodedResponder,
  req: Request,
  res: Response,
  next: NextFunction,
) => Promise<ExpressRuntimeResponse<unknown> | typeof SkipResponse>

export type PostMediaTypesOctetStreamResponder = {
  with200(): ExpressRuntimeResponse<Blob>
} & ExpressRuntimeResponder

export type PostMediaTypesOctetStream = (
  params: Params<void, void, Blob, void>,
  respond: PostMediaTypesOctetStreamResponder,
  req: Request,
  res: Response,
  next: NextFunction,
) => Promise<ExpressRuntimeResponse<unknown> | typeof SkipResponse>

export type MediaTypesImplementation = {
  postMediaTypesText: PostMediaTypesText
  postMediaTypesXWwwFormUrlencoded: PostMediaTypesXWwwFormUrlencoded
  postMediaTypesOctetStream: PostMediaTypesOctetStream
}

export function createMediaTypesRouter(
  implementation: MediaTypesImplementation,
): Router {
  const router = Router()

  const postMediaTypesTextResponseBodyValidator = responseValidationFactory(
    [["200", z.string()]],
    undefined,
  )

  // postMediaTypesText
  router.post(
    `/media-types/text`,
    async (req: Request, res: Response, next: NextFunction) => {
      try {
        const input = {
          params: undefined,
          query: undefined,
          body: parseRequestInput(
            z.string(),
            req.body,
            RequestInputType.RequestBody,
          ),
          headers: undefined,
        }

        const responder = {
          with200() {
            return new ExpressRuntimeResponse<string>(200)
          },
          withStatus(status: StatusCode) {
            return new ExpressRuntimeResponse(status)
          },
        }

        await implementation
          .postMediaTypesText(input, responder, req, res, next)
          .catch(handleImplementationError)
          .then(handleResponse(res, postMediaTypesTextResponseBodyValidator))
      } catch (error) {
        next(error)
      }
    },
  )

  const postMediaTypesXWwwFormUrlencodedResponseBodyValidator =
    responseValidationFactory([["200", s_ProductOrder]], undefined)

  // postMediaTypesXWwwFormUrlencoded
  router.post(
    `/media-types/x-www-form-urlencoded`,
    async (req: Request, res: Response, next: NextFunction) => {
      try {
        const input = {
          params: undefined,
          query: undefined,
          body: parseRequestInput(
            s_ProductOrder,
            req.body,
            RequestInputType.RequestBody,
          ),
          headers: undefined,
        }

        const responder = {
          with200() {
            return new ExpressRuntimeResponse<t_ProductOrder>(200)
          },
          withStatus(status: StatusCode) {
            return new ExpressRuntimeResponse(status)
          },
        }

        await implementation
          .postMediaTypesXWwwFormUrlencoded(input, responder, req, res, next)
          .catch(handleImplementationError)
          .then(
            handleResponse(
              res,
              postMediaTypesXWwwFormUrlencodedResponseBodyValidator,
            ),
          )
      } catch (error) {
        next(error)
      }
    },
  )

  const postMediaTypesOctetStreamResponseBodyValidator =
    responseValidationFactory([["200", z.any()]], undefined)

  // postMediaTypesOctetStream
  router.post(
    `/media-types/octet-stream`,
    async (req: Request, res: Response, next: NextFunction) => {
      try {
        const input = {
          params: undefined,
          query: undefined,
          body: parseRequestInput(
            z.any(),
            await parseOctetStream(req),
            RequestInputType.RequestBody,
          ),
          headers: undefined,
        }

        const responder = {
          with200() {
            return new ExpressRuntimeResponse<Blob>(200)
          },
          withStatus(status: StatusCode) {
            return new ExpressRuntimeResponse(status)
          },
        }

        await implementation
          .postMediaTypesOctetStream(input, responder, req, res, next)
          .catch(handleImplementationError)
          .then(
            handleResponse(res, postMediaTypesOctetStreamResponseBodyValidator),
          )
      } catch (error) {
        next(error)
      }
    },
  )

  return router
}

export {createMediaTypesRouter as createRouter}
export type {MediaTypesImplementation as Implementation}
